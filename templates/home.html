<!-- prettier-ignore -->
{% extends "base.html" %}
{% block title %}Home | Chatbot{% endblock %} 
{% block content %}

<div class="flex items-center justify-center min-h-[60vh]">
  <div
    class="max-w-xl w-full bg-gray-300 rounded shadow p-6 flex flex-col items-center min-w-[50vw]"
  >
    <h2 class="text-4xl font-thin mb-4 text-center">
      Ask a Question
    </h2>
    <p class="pb-4">
      Please submit your question to see what the AI will
      respond!
    </p>
    <form
      method="post"
      class="mb-6 w-full flex flex-col items-center"
    >
      {% csrf_token %}
      <textarea
        name="question"
        rows="4"
        class="w-full border rounded p-2 mb-4 text-center focus:border-yellow-400 focus:ring-yellow-200 focus:ring-2 focus:outline-none"
        placeholder="Type your question here..."
        onkeydown="if(event.key === 'Enter' && !event.shiftKey){ event.preventDefault(); this.form.submit(); }"
      >
      {{ request.POST.question }}</textarea
      >

      <button
        type="submit"
        class="bg-yellow-300 text-2xl text-black font-thin px-4 py-2 rounded hover:bg-yellow-400 hover:font-normal mt-2"
      >
        Ask
      </button>
    </form>
    {% if answer %}
    <div class="w-full flex flex-col gap-4">
      <div class="flex justify-end">
        <div
          class="relative max-w-[70%] bg-green-200 text-black rounded-3xl rounded-br-none px-6 py-3 shadow text-left"
        >
          <span class="block font-thin text-sm mb-1"
            >You:</span
          >
          <span>{{ question }}</span>
        </div>
      </div>

      <div class="flex justify-start">
        <div
          class="relative max-w-[70%] bg-yellow-100 border-2 border-yellow-300 text-black rounded-3xl rounded-bl-none px-6 py-3 shadow text-left"
        >
          <span class="block font-thin text-sm mb-1"
            >AI:</span
          >
          <span>{{ answer }}</span>
        </div>
      </div>
    </div>
    {% endif %} {% comment %} {% if answer %}
    <div
      class="bg-gray-100 border-l-4 border-yellow-300 p-4 rounded w-full text-center"
    >
      <h3 class="font-thin mb-2 text-xl">Question:</h3>
      <p class="pb-3">{{ question }}</p>
      <h3 class="font-thin mb-2 text-xl">Answer:</h3>
      <div>
        <p class="pb-3">{{ answer }}</p>
      </div>
    </div>
    {% endif %} {% endcomment %}
  </div>
</div>
{% endblock %}
